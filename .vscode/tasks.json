// Auto-generated by Mbed CE.  Edits will be erased when CMake is rerun.
{
	"version": "2.0.0",
	"tasks": [
		// Build for target rtos-pedometer
		{
			"label": "Build rtos-pedometer",
			"type": "shell",
			"command": "C:/Program Files/CMake/bin/cmake.exe",
			"args": ["--build", "C:/Users/pfisc/github/rtos-pedometer/build/NUCLEO_F767ZI-Develop", "--target", "rtos-pedometer"],
		},
		// Build rtos-pedometer and run the GDB server
		{
			"label": "Build rtos-pedometer and start GDB server",
			"dependsOn": ["Build rtos-pedometer", "GDB Server"],
			"dependsOrder": "sequence",
		},
		{
			"label": "GDB Server",
			"type": "shell",
			"command": "C:/ST/STM32CubeIDE_2.0.0/STM32CubeIDE/plugins/com.st.stm32cube.ide.mcu.externaltools.stlink-gdb-server.win32_2.2.300.202509021040/tools/bin/ST-LINK_gdbserver.exe",
			"args": ["--swd", "-cp", "C:/ST/STM32CubeIDE_2.0.0/STM32CubeIDE/plugins/com.st.stm32cube.ide.mcu.externaltools.cubeprogrammer.win32_2.2.300.202508131133/tools/bin", "-p", "23331", "--halt"],
			"isBackground": true,
			// This task is run to start the GDB server, so that the launch configuration can connect to it.
      		// Problem is, it's a GDB server, and since it never exits, VSCode
     	 	// will never start the debug session. All this is needed so VSCode just lets it run.
			"problemMatcher": [
				{
					"pattern": [
						{
							"regexp": "________________",
							"file": 1,
							"location": 2,
							"message": 3
						}
					],
					"background": {
						"activeOnStart": true,
						"beginsPattern": ".*",
						"endsPattern": ".*",
					}
				}
			],
		}
	]

}
	